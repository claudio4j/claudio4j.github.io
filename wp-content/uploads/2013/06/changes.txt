$ diff -w /home/claudio/tmp/aaaaaaa/as/plugins/org.jboss.ide.eclipse.as.core/jbosscore/org/jboss/ide/eclipse/as/core/server/bean/JBossServerType.java org.jboss.ide.eclipse.as.core/jbosscore/org/jboss/ide/eclipse/as/core/server/bean/JBossServerType.java
63a64,66
>                       "system"  + File.separatorChar +  //$NON-NLS-1$
>             "layers"  + File.separatorChar +  //$NON-NLS-1$
>             "base" + File.separatorChar +  //$NON-NLS-1$
86a90,92
>                               "system"  + File.separatorChar +  //$NON-NLS-1$
>                 "layers"  + File.separatorChar +  //$NON-NLS-1$
>                 "base" + File.separatorChar +  //$NON-NLS-1$
305c311
<                                       IPath eapDir = rootPath.append("modules/org/jboss/as/product/eap/dir/META-INF"); //$NON-NLS-1$
---
>                                       IPath eapDir = rootPath.append("modules/system/layers/base/org/jboss/as/product/eap/dir/META-INF"); //$NON-NLS-1$


$ diff -w /home/claudio/tmp/aaaaaaa/as/plugins/org.jboss.ide.eclipse.as.classpath.core/src/org/jboss/ide/eclipse/as/classpath/core/runtime/CustomRuntimeClasspathModel.java org.jboss.ide.eclipse.as.classpath.core/src/org/jboss/ide/eclipse/as/classpath/core/runtime/CustomRuntimeClasspathModel.java
177,186c177,186
<               sets.add(new PathProviderFileset("", "modules/javax", "**/*.jar", "**/jsf-api-1.2*.jar"));
<               sets.add(new PathProviderFileset("modules/org/hibernate/validator"));
<               sets.add(new PathProviderFileset("modules/org/resteasy"));
<               sets.add(new PathProviderFileset("modules/org/picketbox"));
<               sets.add(new PathProviderFileset("modules/org/jboss/as/controller-client/main/"));
<               sets.add(new PathProviderFileset("modules/org/jboss/dmr/main/"));
<               sets.add(new PathProviderFileset("modules/org/jboss/logging/main"));
<               sets.add(new PathProviderFileset("modules/org/jboss/resteasy/resteasy-jaxb-provider/main"));
<               sets.add(new PathProviderFileset("modules/org/jboss/resteasy/resteasy-jaxrs/main"));
<               sets.add(new PathProviderFileset("modules/org/jboss/resteasy/resteasy-multipart-provider/main"));
---
>               sets.add(new PathProviderFileset("", "modules/system/layers/base/javax", "**/*.jar", "**/jsf-api-1.2*.jar"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/hibernate/validator"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/resteasy"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/picketbox"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/as/controller-client/main/"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/dmr/main/"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/logging/main"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/resteasy/resteasy-jaxb-provider/main"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/resteasy/resteasy-jaxrs/main"));
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/resteasy/resteasy-multipart-provider/main"));
188c188
<               sets.add(new PathProviderFileset("modules/org/jboss/ejb3/main"));
---
>               sets.add(new PathProviderFileset("modules/system/layers/base/org/jboss/ejb3/main"));
